(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{556:function(t,s,a){t.exports=a.p+"assets/img/object-available-members.59a517b8.png"},557:function(t,s){t.exports="data:image/png;base64,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"},676:function(t,s,a){"use strict";a.r(s);var n=a(7),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("blockquote",[n("p",[t._v("点击勘误"),n("a",{attrs:{href:"https://github.com/webVueBlog/learn-web/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("issues"),n("OutboundLink")],1),t._v("，哪吒感谢大家的阅读")])]),t._v(" "),n("p"),n("div",{staticClass:"table-of-contents"},[n("ul",[n("li",[n("a",{attrs:{href:"#基于原型的语言"}},[t._v("基于原型的语言？")])]),n("li",[n("a",{attrs:{href:"#使用javascript中的原型"}},[t._v("使用Javascript中的原型")])]),n("li",[n("a",{attrs:{href:"#理解原型对象"}},[t._v("理解原型对象")])]),n("li",[n("a",{attrs:{href:"#prototype-属性-继承成员被定义的地方"}},[t._v("prototype 属性：继承成员被定义的地方")])]),n("li",[n("a",{attrs:{href:"#create"}},[t._v("create()")])]),n("li",[n("a",{attrs:{href:"#constructor-属性"}},[t._v("constructor 属性")])]),n("li",[n("a",{attrs:{href:"#修改原型"}},[t._v("修改原型")])]),n("li",[n("a",{attrs:{href:"#总结"}},[t._v("总结")])])])]),n("p"),t._v(" "),n("p",[t._v("通过原型这种机制，JavaScript 中的对象从其他对象继承功能特性；这种继承机制与经典的面向对象编程语言的继承机制不同。本文将探讨这些差别，解释原型链如何工作，并了解如何通过 prototype 属性向已有的构造器添加方法")]),t._v(" "),n("p",[t._v("理解 JavaScript 对象原型、原型链如何工作、如何向 prototype 属性添加新的方法。")]),t._v(" "),n("h2",{attrs:{id:"基于原型的语言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基于原型的语言"}},[t._v("#")]),t._v(" 基于原型的语言？")]),t._v(" "),n("p",[t._v("JavaScript 常被描述为一种基于原型的语言 (prototype-based language)——每个对象拥有一个原型对象，对象以其原型为模板、从原型继承方法和属性。原型对象也可能拥有原型，并从中继承方法和属性，一层一层、以此类推。这种关系常被称为原型链 ("),n("code",[t._v("prototype")]),t._v(" "),n("code",[t._v("chain")]),t._v(")，它解释了为何一个对象会拥有定义在其他对象中的属性和方法。")]),t._v(" "),n("p",[t._v("准确地说，这些属性和方法定义在Object的构造器函数("),n("code",[t._v("constructor")]),t._v(" "),n("code",[t._v("functions")]),t._v(")之上的 "),n("code",[t._v("prototype")]),t._v(" 属性上，而非对象实例本身。")]),t._v(" "),n("p",[t._v("在传统的 OOP 中，首先定义“类”，此后创建对象实例时，类中定义的所有属性和方法都被复制到实例中。在 JavaScript 中并不如此复制——而是在对象实例和它的构造器之间建立一个链接（它是 "),n("code",[t._v("__proto__")]),t._v(" 属性，是从构造函数的prototype属性派生的），之后通过上溯原型链，在构造器中找到这些属性和方法。")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("注意: 理解对象的原型（可以通过Object.getPrototypeOf(obj)或者已被弃用的 "),n("code",[t._v("__proto__")]),t._v(" 属性获得）与构造函数的prototype属性之间的区别是很重要的。前者是每个实例上都有的属性，后者是构造函数的属性。也就是说，Object.getPrototypeOf(new Foobar())和Foobar.prototype指向着同一个对象。")])]),t._v(" "),n("h2",{attrs:{id:"使用javascript中的原型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#使用javascript中的原型"}},[t._v("#")]),t._v(" 使用Javascript中的原型")]),t._v(" "),n("p",[t._v('在javascript中，函数可以有属性。 每个函数都有一个特殊的属性叫作原型（prototype） ，正如下面所展示的。请注意，下面的代码是独立的一段(在网页中没有其他代码的情况下，这段代码是安全的)。为了最好的学习体验，你最好打开一个控制台 (在Chrome和Firefox中，可以按Ctrl+Shift+I来打开)切换到"控制台" 选项卡, 复制粘贴下面的JavaScript代码，然后按回车来运行.')]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" doSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// It does not matter how you declare the function, a")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  function in javascript will always have a default")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  prototype property.")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("doSomething")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" doSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br")])]),n("p",[t._v("正如上面所看到的, doSomething 函数有一个默认的原型属性，它在控制台上面呈现了出来. 运行这段代码之后，控制台上面应该出现了像这样的一个对象.")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("__proto__")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("isPrototypeOf")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isPrototypeOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("propertyIsEnumerable")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("propertyIsEnumerable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("toLocaleString")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLocaleString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("valueOf")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("valueOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br")])]),n("p",[t._v("现在，我们可以添加一些属性到 doSomething 的原型上面，如下所示.")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ndoSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" doSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[t._v("结果:")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("foo")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("__proto__")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("isPrototypeOf")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isPrototypeOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("propertyIsEnumerable")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("propertyIsEnumerable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("toLocaleString")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLocaleString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("valueOf")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" ƒ "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("valueOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br")])]),n("p",[t._v("然后，我们可以使用 new 运算符来在现在的这个原型基础之上，创建一个 doSomething 的实例。正确使用 new 运算符的方法就是在正常调用函数时，在函数名的前面加上一个 new 前缀. 通过这种方法，在调用函数前加一个 new ，它就会返回一个这个函数的实例化对象. 然后，就可以在这个对象上面添加一些属性. 看.")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ndoSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// add a property onto the prototype")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" doSomeInstancing "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndoSomeInstancing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some value"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// add a property onto the object")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" doSomeInstancing "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("p",[t._v("结果:")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("prop")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'some value'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("__proto__")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("foo")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bar'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" f "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("__proto__")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" f "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" f "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("isPrototypeOf")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" f "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("isPrototypeOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("propertyIsEnumerable")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" f "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("propertyIsEnumerable")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("toLocaleString")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" f "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toLocaleString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" f "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("toString")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("valueOf")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" f "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("valueOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br")])]),n("p",[t._v("就像上面看到的, doSomeInstancing 的 "),n("code",[t._v("__proto__")]),t._v(" 属性就是doSomething.prototype. 但是这又有什么用呢? 好吧,当你访问 doSomeInstancing 的一个属性, 浏览器首先查找 doSomeInstancing 是否有这个属性. 如果 doSomeInstancing 没有这个属性, 然后浏览器就会在 doSomeInstancing 的 "),n("code",[t._v("__proto__")]),t._v(" 中查找这个属性(也就是 doSomething.prototype). 如果 doSomeInstancing 的 "),n("code",[t._v("__proto__")]),t._v(" 有这个属性, 那么 doSomeInstancing 的 "),n("code",[t._v("__proto__")]),t._v(" 上的这个属性就会被使用. 否则, 如果 doSomeInstancing 的 "),n("code",[t._v("__proto__")]),t._v(" 没有这个属性, 浏览器就会去查找 doSomeInstancing 的 "),n("code",[t._v("__proto__")]),t._v(" 的 "),n("code",[t._v("__proto__")]),t._v(" ，看它是否有这个属性. 默认情况下, 所有函数的原型属性的 "),n("code",[t._v("__proto__")]),t._v(" 就是 window.Object.prototype. 所以 doSomeInstancing 的 "),n("code",[t._v("__proto__")]),t._v(" 的 "),n("code",[t._v("__proto__")]),t._v(" (也就是 doSomething.prototype 的 "),n("code",[t._v("__proto__")]),t._v(" (也就是 Object.prototype)) 会被查找是否有这个属性. 如果没有在它里面找到这个属性, 然后就会在 doSomeInstancing 的 "),n("code",[t._v("__proto__")]),t._v(" 的 "),n("code",[t._v("__proto__")]),t._v(" 的 "),n("code",[t._v("__proto__")]),t._v(" 里面查找. 然而这有一个问题: doSomeInstancing 的 "),n("code",[t._v("__proto__")]),t._v(" 的 "),n("code",[t._v("__proto__")]),t._v(" 的 "),n("code",[t._v("__proto__")]),t._v(" 不存在. 最后, 原型链上面的所有的 "),n("code",[t._v("__proto__")]),t._v(" 都被找完了, 浏览器所有已经声明了的 "),n("code",[t._v("__proto__")]),t._v(" 上都不存在这个属性，然后就得出结论，这个属性是 undefined.")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ndoSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bar"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" doSomeInstancing "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("doSomething")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndoSomeInstancing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"some value"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doSomeInstancing.prop:      "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" doSomeInstancing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doSomeInstancing.foo:       "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" doSomeInstancing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doSomething.prop:           "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" doSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doSomething.foo:            "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" doSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doSomething.prototype.prop: "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" doSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"doSomething.prototype.foo:  "')]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" doSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br")])]),n("p",[t._v("结果:")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("doSomeInstancing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("      some value\ndoSomeInstancing"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("       bar\ndoSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("           "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v("\ndoSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v("\ndoSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prop"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v("\ndoSomething"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("foo"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("  bar\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("h2",{attrs:{id:"理解原型对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#理解原型对象"}},[t._v("#")]),t._v(" 理解原型对象")]),t._v(" "),n("p",[t._v("将定义一个构造器函数：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Person")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("first"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" last"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" gender"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" interests")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 属性与方法定义")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br")])]),n("p",[t._v("然后创建一个对象实例：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" person1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Bob'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Smith'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'male'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'music'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'skiing'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v('在 JavaScript 控制台输入 "person1."，你会看到，浏览器将根据这个对象的可用的成员名称进行自动补全：')]),t._v(" "),n("img",{staticStyle:{display:"flex",margin:"auto",width:"60%"},attrs:{src:a(556)}}),t._v(" "),n("p",[t._v("在这个列表中，你可以看到定义在 "),n("code",[t._v("person1")]),t._v(" 的原型对象、即 "),n("code",[t._v("Person")]),t._v("() 构造器中的成员—— "),n("code",[t._v("name、age、gender、interests、bio、greeting")]),t._v("。同时也有一些其他成员—— "),n("code",[t._v("watch、valueOf")]),t._v(" 等等——这些成员定义在 "),n("code",[t._v("Person")]),t._v("() 构造器的原型对象、即 "),n("code",[t._v("Object")]),t._v(" 之上。下图展示了原型链的运作机制。")]),t._v(" "),n("img",{staticStyle:{display:"flex",margin:"auto",width:"100%"},attrs:{src:a(557)}}),t._v(" "),n("p",[t._v("那么，调用 person1 的“实际定义在 Object 上”的方法时，会发生什么？比如：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("person1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("valueOf")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("这个方法仅仅返回了被调用对象的值。在这个例子中发生了如下过程：")]),t._v(" "),n("ul",[n("li",[t._v("浏览器首先检查，"),n("code",[t._v("person1")]),t._v(" 对象是否具有可用的 "),n("code",[t._v("valueOf")]),t._v("() 方法。")]),t._v(" "),n("li",[t._v("如果没有，则浏览器检查 "),n("code",[t._v("person1")]),t._v(" 对象的原型对象（即 "),n("code",[t._v("Person")]),t._v(" 构造函数的 "),n("code",[t._v("prototype")]),t._v(" 属性所指向的对象）是否具有可用的 "),n("code",[t._v("valueof")]),t._v("() 方法。")]),t._v(" "),n("li",[t._v("如果也没有，则浏览器检查 "),n("code",[t._v("Person")]),t._v("() 构造函数的 "),n("code",[t._v("prototype")]),t._v(" 属性所指向的对象的原型对象（即 "),n("code",[t._v("Object")]),t._v(" 构造函数的 "),n("code",[t._v("prototype")]),t._v(" 属性所指向的对象）是否具有可用的 "),n("code",[t._v("valueOf")]),t._v("() 方法。这里有这个方法，于是该方法被调用。")])]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("注意：必须重申，原型链中的方法和属性没有被复制到其他对象——它们被访问需要通过前面所说的“原型链”的方式。")])]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("注意：没有官方的方法用于直接访问一个对象的原型对象——原型链中的“连接”被定义在一个内部属性中，在 JavaScript 语言标准中用 "),n("code",[t._v("[[prototype]]")]),t._v(" 表示（参见 ECMAScript）。然而，大多数现代浏览器还是提供了一个名为 "),n("code",[t._v("__proto__")]),t._v(" （前后各有2个下划线）的属性，其包含了对象的原型。你可以尝试输入 "),n("code",[t._v("person1.__proto__")]),t._v(" 和 "),n("code",[t._v("person1.__proto__.__proto__")]),t._v("，看看代码中的原型链是什么样的！")])]),t._v(" "),n("h2",{attrs:{id:"prototype-属性-继承成员被定义的地方"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#prototype-属性-继承成员被定义的地方"}},[t._v("#")]),t._v(" "),n("code",[t._v("prototype")]),t._v(" 属性：继承成员被定义的地方")]),t._v(" "),n("p",[t._v("那么，那些继承的属性和方法在哪儿定义呢？如果你查看 "),n("code",[t._v("Object")]),t._v(" 参考页，会发现左侧列出许多属性和方法——大大超过我们在 "),n("code",[t._v("person1")]),t._v(" 对象中看到的继承成员的数量。某些属性或方法被继承了，而另一些没有——为什么呢？")]),t._v(" "),n("p",[t._v("原因在于，继承的属性和方法是定义在 "),n("code",[t._v("prototype")]),t._v(" 属性之上的（你可以称之为子命名空间 "),n("code",[t._v("(sub namespace)")]),t._v(" ）——那些以 "),n("code",[t._v("Object.prototype")]),t._v(". 开头的属性，而非仅仅以 "),n("code",[t._v("Object")]),t._v(". 开头的属性。"),n("code",[t._v("prototype")]),t._v(" 属性的值是一个对象，我们希望被原型链下游的对象继承的属性和方法，都被储存在其中。")]),t._v(" "),n("p",[t._v("于是 "),n("code",[t._v("Object.prototype.watch()、Object.prototype.valueOf()")]),t._v(" 等等成员，适用于任何继承自 "),n("code",[t._v("Object()")]),t._v(" 的对象类型，包括使用构造器创建的新的对象实例。")]),t._v(" "),n("p",[n("code",[t._v("Object.is()、Object.keys()")]),t._v("，以及其他不在 prototype 对象内的成员，不会被“对象实例”或“继承自 "),n("code",[t._v("Object()")]),t._v(" 的对象类型”所继承。这些方法/属性仅能被 "),n("code",[t._v("Object()")]),t._v(" 构造器自身使用。")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("注意：这看起来很奇怪——构造器本身就是函数，你怎么可能在构造器这个函数中定义一个方法呢？其实函数也是一个对象类型，你可以查阅 "),n("code",[t._v("Function()")]),t._v(" 构造器的参考文档以确认这一点。")])]),t._v(" "),n("ol",[n("li",[t._v("你可以检查已有的 "),n("code",[t._v("prototype")]),t._v(" 属性。回到先前的例子，在 "),n("code",[t._v("JavaScript")]),t._v(" 控制台输入：")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[t._v("输出并不多，毕竟我们没有为自定义构造器的原型定义任何成员。缺省状态下，构造器的 "),n("code",[t._v("prototype")]),t._v(" 属性初始为空白。现在尝试：")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("你会看到 "),n("code",[t._v("Object")]),t._v(" 的 "),n("code",[t._v("prototype")]),t._v(" 属性上定义了大量的方法；如前所示，继承自 "),n("code",[t._v("Object")]),t._v(" 的对象都可以使用这些方法。")]),t._v(" "),n("p",[n("code",[t._v("JavaScript")]),t._v(" 中到处都是通过原型链继承的例子。比如，你可以尝试从 "),n("code",[t._v("String、Date、Number")]),t._v(" 和 "),n("code",[t._v("Array")]),t._v(" 全局对象的原型中寻找方法和属性。它们都在原型上定义了一些方法，因此当你创建一个字符串时：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" myString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'This is my string.'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[n("code",[t._v("myString")]),t._v(" 立即具有了一些有用的方法，如 "),n("code",[t._v("split()、indexOf()、replace()")]),t._v(" 等。")]),t._v(" "),n("div",{staticClass:"custom-block warning"},[n("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),n("p",[t._v("重要："),n("code",[t._v("prototype")]),t._v(" 属性大概是 "),n("code",[t._v("JavaScript")]),t._v(" 中最容易混淆的名称之一。你可能会认为，"),n("code",[t._v("this")]),t._v(" 关键字指向当前对象的原型对象，其实不是（还记得么？原型对象是一个内部对象，应当使用 "),n("code",[t._v("__proto__")]),t._v(" 访问）。"),n("code",[t._v("prototype")]),t._v(" 属性包含（指向）一个对象，你在这个对象中定义需要被继承的成员。")])]),t._v(" "),n("h2",{attrs:{id:"create"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create"}},[t._v("#")]),t._v(" create()")]),t._v(" "),n("p",[t._v("我们曾经讲过如何用 "),n("code",[t._v("Object.create()")]),t._v(" 方法创建新的对象实例。")]),t._v(" "),n("ol",[n("li",[t._v("例如，在上个例子的 "),n("code",[t._v("JavaScript")]),t._v(" 控制台中输入：")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" person2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("ol",{attrs:{start:"2"}},[n("li",[n("code",[t._v("create()")]),t._v(" 实际做的是从指定原型对象创建一个新的对象。这里以 person1 为原型对象创建了 person2 对象。在控制台输入：")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("person2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("结果返回对象"),n("code",[t._v("person1")]),t._v("。")]),t._v(" "),n("h2",{attrs:{id:"constructor-属性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#constructor-属性"}},[t._v("#")]),t._v(" constructor 属性")]),t._v(" "),n("p",[t._v("每个实例对象都从原型中继承了一个"),n("code",[t._v("constructor")]),t._v("属性，该属性指向了用于构造此实例对象的构造函数。")]),t._v(" "),n("ol",[n("li",[t._v("例如，在控制台中尝试下面的指令：")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("person1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor\nperson2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("p",[t._v("都将返回 "),n("code",[t._v("Person()")]),t._v(" 构造器，因为该构造器包含这些实例的原始定义。")]),t._v(" "),n("p",[t._v("一个小技巧是，你可以在 "),n("code",[t._v("constructor")]),t._v(" 属性的末尾添加一对圆括号（括号中包含所需的参数），从而用这个构造器创建另一个对象实例。毕竟构造器是一个函数，故可以通过圆括号调用；只需在前面添加 "),n("code",[t._v("new")]),t._v(" 关键字，便能将此函数作为构造器使用。")]),t._v(" "),n("ol",{attrs:{start:"2"}},[n("li",[t._v("在控制台中输入：")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" person3 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("person1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Karen'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Stephenson'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'female'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'playing drums'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mountain climbing'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("ol",{attrs:{start:"3"}},[n("li",[t._v("现在尝试访问新建对象的属性，例如：")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("person3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("first\nperson3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age\nperson3"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("bio")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[t._v("正常工作。通常你不会去用这种方法创建新的实例；但如果你刚好因为某些原因没有原始构造器的引用，那么这种方法就很有用了。")]),t._v(" "),n("p",[t._v("此外，"),n("code",[t._v("constructor")]),t._v(" 属性还有其他用途。比如，想要获得某个对象实例的构造器的名字，可以这么用：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("instanceName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("具体地，像这样：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("person1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("h2",{attrs:{id:"修改原型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#修改原型"}},[t._v("#")]),t._v(" 修改原型")]),t._v(" "),n("p",[t._v("从我们从下面这个例子来看一下如何修改构造器的 "),n("code",[t._v("prototype")]),t._v(" 属性。")]),t._v(" "),n("ol",[n("li",[t._v("回到 oojs-class-further-exercises.html 的例子，在本地为源代码创建一个副本。在已有的 JavaScript 的末尾添加如下代码，这段代码将为构造器的 prototype 属性添加一个新的方法：")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("farewell")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("first "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' has left the building. Bye for now!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br")])]),n("p",[t._v("保存代码，在浏览器中加载页面，然后在控制台输入：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("person1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("farewell")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("你会看到一条警告信息，其中还显示了构造器中定义的人名；这很有用。但更关键的是，整条继承链动态地更新了，任何由此构造器创建的对象实例都自动获得了这个方法。")]),t._v(" "),n("p",[t._v("再想一想这个过程。我们的代码中定义了构造器，然后用这个构造器创建了一个对象实例，此后向构造器的 prototype 添加了一个新的方法：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Person")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("first"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" last"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" gender"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" interests")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 属性与方法定义")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" person1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Tammi'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Smith'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'neutral'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'music'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'skiing'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'kickboxing'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("farewell")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("first "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' has left the building. Bye for now!'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br")])]),n("p",[t._v("但是 "),n("code",[t._v("farewell()")]),t._v(" 方法仍然可用于 "),n("code",[t._v("person1")]),t._v(" 对象实例——旧有对象实例的可用功能被自动更新了。这证明了先前描述的原型链模型。这种继承模型下，上游对象的方法不会复制到下游的对象实例中；下游对象本身虽然没有定义这些方法，但浏览器会通过上溯原型链、从上游对象中找到它们。这种继承模型提供了一个强大而可扩展的功能系统。")]),t._v(" "),n("p",[t._v("注意：如果运行样例时遇到问题，请参阅 "),n("code",[t._v("oojs-class-prototype.html")]),t._v(" 样例（也可查看即时运行）。")]),t._v(" "),n("p",[t._v("你很少看到属性定义在 "),n("code",[t._v("prototype")]),t._v(" 属性中，因为如此定义不够灵活。比如，你可以添加一个属性：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fullName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Bob Smith'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("但这不够灵活，因为人们可能不叫这个名字。用 "),n("code",[t._v("name.first")]),t._v(" 和 "),n("code",[t._v("name.last")]),t._v(" 组成 "),n("code",[t._v("fullName")]),t._v(" 会好很多：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Person")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fullName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("first "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("last"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br")])]),n("p",[t._v("然而，这么做是无效的，因为本例中 this 引用全局范围，而非函数范围。访问这个属性只会得到 undefined undefined。但这个语句若放在 先前定义在 prototype 上的方法中则有效，因为此时语句位于函数范围内，从而能够成功地转换为对象实例范围。你可能会在 prototype 上定义常属性 (constant property) （指那些你永远无需改变的属性），但一般来说，在构造器内定义属性更好。")]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),n("p",[t._v("译者注：关于 this 关键字指代（引用）什么范围/哪个对象，这个问题超出了本文讨论范围。事实上，这个问题有点复杂，如果现在你没能理解，也不用担心。")])]),t._v(" "),n("p",[t._v("事实上，一种极其常见的对象定义模式是，在构造器（函数体）中定义属性、在 prototype 属性上定义方法。如此，构造器只包含属性定义，而方法则分装在不同的代码块，代码更具可读性。例如：")]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构造器及其属性定义")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("b"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("d")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 属性定义")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义第一个方法")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("x")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 定义第二个方法")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("y")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 等等……")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br")])]),n("p",[t._v("在 Piotr Zalewa 的 school plan app 样例中可以看到这种模式。")]),t._v(" "),n("h2",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),n("p",[t._v("本文介绍了 JavaScript 对象原型，包括原型链如何允许对象之间继承特性、prototype 属性、如何通过它来向构造器添加方法，以及其他有关主题。")])])}),[],!1,null,null,null);s.default=e.exports}}]);