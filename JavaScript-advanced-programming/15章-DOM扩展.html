<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>哪吒的深入理解全栈系列</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/learn-web/logo.jpg">
    <meta name="description" content="「早起、阅读、运动、写作、冥想」">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/learn-web/assets/css/0.styles.b695ea6c.css" as="style"><link rel="preload" href="/learn-web/assets/js/app.72a02f74.js" as="script"><link rel="preload" href="/learn-web/assets/js/2.a6c2d1f7.js" as="script"><link rel="preload" href="/learn-web/assets/js/57.b64a6d6c.js" as="script"><link rel="prefetch" href="/learn-web/assets/js/10.aaeca20e.js"><link rel="prefetch" href="/learn-web/assets/js/100.f7f95db7.js"><link rel="prefetch" href="/learn-web/assets/js/101.4ef9fb19.js"><link rel="prefetch" href="/learn-web/assets/js/102.a8fa7673.js"><link rel="prefetch" href="/learn-web/assets/js/103.2af2839e.js"><link rel="prefetch" href="/learn-web/assets/js/104.9e751296.js"><link rel="prefetch" href="/learn-web/assets/js/105.6f63235e.js"><link rel="prefetch" href="/learn-web/assets/js/106.b8d4d6af.js"><link rel="prefetch" href="/learn-web/assets/js/107.91de7f35.js"><link rel="prefetch" href="/learn-web/assets/js/108.09092da0.js"><link rel="prefetch" href="/learn-web/assets/js/109.b003cdf0.js"><link rel="prefetch" href="/learn-web/assets/js/11.d9bf61c5.js"><link rel="prefetch" href="/learn-web/assets/js/110.972614dd.js"><link rel="prefetch" href="/learn-web/assets/js/111.33108f14.js"><link rel="prefetch" href="/learn-web/assets/js/112.70827e82.js"><link rel="prefetch" href="/learn-web/assets/js/113.2fb223e9.js"><link rel="prefetch" href="/learn-web/assets/js/114.0695cb59.js"><link rel="prefetch" href="/learn-web/assets/js/115.ac904829.js"><link rel="prefetch" href="/learn-web/assets/js/116.647d1960.js"><link rel="prefetch" href="/learn-web/assets/js/117.cb088bd8.js"><link rel="prefetch" href="/learn-web/assets/js/118.a87b4044.js"><link rel="prefetch" href="/learn-web/assets/js/119.5ae7379d.js"><link rel="prefetch" href="/learn-web/assets/js/12.67199060.js"><link rel="prefetch" href="/learn-web/assets/js/120.3e5dd68e.js"><link rel="prefetch" href="/learn-web/assets/js/121.1c6720b8.js"><link rel="prefetch" href="/learn-web/assets/js/122.58d871ec.js"><link rel="prefetch" href="/learn-web/assets/js/123.52450eb8.js"><link rel="prefetch" href="/learn-web/assets/js/124.72bfff1d.js"><link rel="prefetch" href="/learn-web/assets/js/125.b367826d.js"><link rel="prefetch" href="/learn-web/assets/js/13.666a623d.js"><link rel="prefetch" href="/learn-web/assets/js/14.9eb30dde.js"><link rel="prefetch" href="/learn-web/assets/js/15.1f3fea0d.js"><link rel="prefetch" href="/learn-web/assets/js/16.7311dc90.js"><link rel="prefetch" href="/learn-web/assets/js/17.c3d8066f.js"><link rel="prefetch" href="/learn-web/assets/js/18.1d44600d.js"><link rel="prefetch" href="/learn-web/assets/js/19.01366c26.js"><link rel="prefetch" href="/learn-web/assets/js/20.903f0ed3.js"><link rel="prefetch" href="/learn-web/assets/js/21.e5e7efdf.js"><link rel="prefetch" href="/learn-web/assets/js/22.1c09ae3a.js"><link rel="prefetch" href="/learn-web/assets/js/23.d7d52d9c.js"><link rel="prefetch" href="/learn-web/assets/js/24.110f3791.js"><link rel="prefetch" href="/learn-web/assets/js/25.cdcc627e.js"><link rel="prefetch" href="/learn-web/assets/js/26.0a33d9a0.js"><link rel="prefetch" href="/learn-web/assets/js/27.5688e4bf.js"><link rel="prefetch" href="/learn-web/assets/js/28.9b3bc35f.js"><link rel="prefetch" href="/learn-web/assets/js/29.7a9f1587.js"><link rel="prefetch" href="/learn-web/assets/js/3.4ad85264.js"><link rel="prefetch" href="/learn-web/assets/js/30.8e259062.js"><link rel="prefetch" href="/learn-web/assets/js/31.4a4cbdc5.js"><link rel="prefetch" href="/learn-web/assets/js/32.69d26ab6.js"><link rel="prefetch" href="/learn-web/assets/js/33.da90182b.js"><link rel="prefetch" href="/learn-web/assets/js/34.5283b3b6.js"><link rel="prefetch" href="/learn-web/assets/js/35.69ad09b2.js"><link rel="prefetch" href="/learn-web/assets/js/36.675454cd.js"><link rel="prefetch" href="/learn-web/assets/js/37.079f4c43.js"><link rel="prefetch" href="/learn-web/assets/js/38.413a26c0.js"><link rel="prefetch" href="/learn-web/assets/js/39.05c8e713.js"><link rel="prefetch" href="/learn-web/assets/js/4.5434103e.js"><link rel="prefetch" href="/learn-web/assets/js/40.e8aac23e.js"><link rel="prefetch" href="/learn-web/assets/js/41.4fe62ded.js"><link rel="prefetch" href="/learn-web/assets/js/42.1dc095df.js"><link rel="prefetch" href="/learn-web/assets/js/43.416de164.js"><link rel="prefetch" href="/learn-web/assets/js/44.941ced0d.js"><link rel="prefetch" href="/learn-web/assets/js/45.abcf4033.js"><link rel="prefetch" href="/learn-web/assets/js/46.738ce4d2.js"><link rel="prefetch" href="/learn-web/assets/js/47.9f1f7cf6.js"><link rel="prefetch" href="/learn-web/assets/js/48.ace0f5b0.js"><link rel="prefetch" href="/learn-web/assets/js/49.05ec783f.js"><link rel="prefetch" href="/learn-web/assets/js/5.592e78f1.js"><link rel="prefetch" href="/learn-web/assets/js/50.3c564ee7.js"><link rel="prefetch" href="/learn-web/assets/js/51.5889851c.js"><link rel="prefetch" href="/learn-web/assets/js/52.ac6e1a2b.js"><link rel="prefetch" href="/learn-web/assets/js/53.706b3e57.js"><link rel="prefetch" href="/learn-web/assets/js/54.639035df.js"><link rel="prefetch" href="/learn-web/assets/js/55.7403f743.js"><link rel="prefetch" href="/learn-web/assets/js/56.2dee655f.js"><link rel="prefetch" href="/learn-web/assets/js/58.c770ea8b.js"><link rel="prefetch" href="/learn-web/assets/js/59.704e30b9.js"><link rel="prefetch" href="/learn-web/assets/js/6.daf19e12.js"><link rel="prefetch" href="/learn-web/assets/js/60.0cb848cc.js"><link rel="prefetch" href="/learn-web/assets/js/61.478b6ecd.js"><link rel="prefetch" href="/learn-web/assets/js/62.226b7ec3.js"><link rel="prefetch" href="/learn-web/assets/js/63.a1e93f97.js"><link rel="prefetch" href="/learn-web/assets/js/64.47e06a47.js"><link rel="prefetch" href="/learn-web/assets/js/65.616b074f.js"><link rel="prefetch" href="/learn-web/assets/js/66.8fdb2e03.js"><link rel="prefetch" href="/learn-web/assets/js/67.5cfd0463.js"><link rel="prefetch" href="/learn-web/assets/js/68.1ef8eeb1.js"><link rel="prefetch" href="/learn-web/assets/js/69.ce28eb58.js"><link rel="prefetch" href="/learn-web/assets/js/7.d040c705.js"><link rel="prefetch" href="/learn-web/assets/js/70.b44d988f.js"><link rel="prefetch" href="/learn-web/assets/js/71.dbf935bb.js"><link rel="prefetch" href="/learn-web/assets/js/72.5624555b.js"><link rel="prefetch" href="/learn-web/assets/js/73.2c9d9dfd.js"><link rel="prefetch" href="/learn-web/assets/js/74.17f107fd.js"><link rel="prefetch" href="/learn-web/assets/js/75.9a48455f.js"><link rel="prefetch" href="/learn-web/assets/js/76.2dc8eb1d.js"><link rel="prefetch" href="/learn-web/assets/js/77.85af0b7b.js"><link rel="prefetch" href="/learn-web/assets/js/78.31ef44df.js"><link rel="prefetch" href="/learn-web/assets/js/79.72c1b27a.js"><link rel="prefetch" href="/learn-web/assets/js/8.090e429e.js"><link rel="prefetch" href="/learn-web/assets/js/80.20ab9560.js"><link rel="prefetch" href="/learn-web/assets/js/81.91d0896a.js"><link rel="prefetch" href="/learn-web/assets/js/82.4f44e777.js"><link rel="prefetch" href="/learn-web/assets/js/83.41d6c718.js"><link rel="prefetch" href="/learn-web/assets/js/84.85fe028b.js"><link rel="prefetch" href="/learn-web/assets/js/85.bc78a728.js"><link rel="prefetch" href="/learn-web/assets/js/86.6ec9ca4c.js"><link rel="prefetch" href="/learn-web/assets/js/87.8925b716.js"><link rel="prefetch" href="/learn-web/assets/js/88.7b38907d.js"><link rel="prefetch" href="/learn-web/assets/js/89.a65dfe2a.js"><link rel="prefetch" href="/learn-web/assets/js/9.231751c5.js"><link rel="prefetch" href="/learn-web/assets/js/90.f4b5d07c.js"><link rel="prefetch" href="/learn-web/assets/js/91.9a937d66.js"><link rel="prefetch" href="/learn-web/assets/js/92.774dfff6.js"><link rel="prefetch" href="/learn-web/assets/js/93.1b9fbed3.js"><link rel="prefetch" href="/learn-web/assets/js/94.eea33475.js"><link rel="prefetch" href="/learn-web/assets/js/95.1608b684.js"><link rel="prefetch" href="/learn-web/assets/js/96.77ff819f.js"><link rel="prefetch" href="/learn-web/assets/js/97.b0d7dcc6.js"><link rel="prefetch" href="/learn-web/assets/js/98.b598e00f.js"><link rel="prefetch" href="/learn-web/assets/js/99.b04a0d52.js">
    <link rel="stylesheet" href="/learn-web/assets/css/0.styles.b695ea6c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/learn-web/" class="home-link router-link-active"><!----> <span class="site-name">哪吒的深入理解全栈系列</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/learn-web/HTML/" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/learn-web/CSS/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/learn-web/JavaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/learn-web/HTTP/" class="nav-link">
  HTTP
</a></div><div class="nav-item"><a href="/learn-web/front-end-engineering/" class="nav-link">
  工程化
</a></div><div class="nav-item"><a href="/learn-web/browser/" class="nav-link">
  浏览器
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大前端" class="dropdown-title"><span class="title">大前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="大前端" class="mobile-dropdown-title"><span class="title">大前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learn-web/regular-expression/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/learn-web/Programming/" class="nav-link">
  编程题
</a></li><li class="dropdown-item"><!----> <a href="/learn-web/Node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/learn-web/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/learn-web/React/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实践" class="dropdown-title"><span class="title">实践</span> <span class="arrow down"></span></button> <button type="button" aria-label="实践" class="mobile-dropdown-title"><span class="title">实践</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          html-css-js实践
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-web/html-css-js-coding/" class="nav-link">
  html-css-js实践
</a></li></ul></li><li class="dropdown-item"><h4>
          实践操作
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-web/coding/" class="nav-link">
  实践操作
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="书籍" class="dropdown-title"><span class="title">书籍</span> <span class="arrow down"></span></button> <button type="button" aria-label="书籍" class="mobile-dropdown-title"><span class="title">书籍</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          JavaScript书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-web/JavaScript-advanced-programming/" class="nav-link router-link-active">
  JavaScript高级程序设计（第4版）
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          进阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-web/APIs/" class="nav-link">
  APIs
</a></li><li class="dropdown-subitem"><a href="/learn-web/Browser-Extensions/" class="nav-link">
  Browser-Extensions
</a></li><li class="dropdown-subitem"><a href="/learn-web/Java/" class="nav-link">
  Java
</a></li></ul></li><li class="dropdown-item"><h4>
          高阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-web/safety/" class="nav-link">
  安全系列
</a></li><li class="dropdown-subitem"><a href="/learn-web/Performance/" class="nav-link">
  性能系列
</a></li></ul></li><li class="dropdown-item"><h4>
          资深
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-web/DataStructure/" class="nav-link">
  数据结构系列
</a></li><li class="dropdown-subitem"><a href="/learn-web/ALG/" class="nav-link">
  算法系列
</a></li></ul></li><li class="dropdown-item"><h4>
          推荐
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://learn-docs.github.io/learn-webpack/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  learn-webpack
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://learn-docs.github.io/learn-React/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  learn-React
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://learn-docs.github.io/learn-TypeScript/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  learn-TypeScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://1024bibi.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  1024bibi.com bolg
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://learn-docs.github.io/vue-docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/webVueBlog/learn-web" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/learn-web/HTML/" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/learn-web/CSS/" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/learn-web/JavaScript/" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/learn-web/HTTP/" class="nav-link">
  HTTP
</a></div><div class="nav-item"><a href="/learn-web/front-end-engineering/" class="nav-link">
  工程化
</a></div><div class="nav-item"><a href="/learn-web/browser/" class="nav-link">
  浏览器
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="大前端" class="dropdown-title"><span class="title">大前端</span> <span class="arrow down"></span></button> <button type="button" aria-label="大前端" class="mobile-dropdown-title"><span class="title">大前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learn-web/regular-expression/" class="nav-link">
  正则表达式
</a></li><li class="dropdown-item"><!----> <a href="/learn-web/Programming/" class="nav-link">
  编程题
</a></li><li class="dropdown-item"><!----> <a href="/learn-web/Node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/learn-web/Vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/learn-web/React/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="实践" class="dropdown-title"><span class="title">实践</span> <span class="arrow down"></span></button> <button type="button" aria-label="实践" class="mobile-dropdown-title"><span class="title">实践</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          html-css-js实践
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-web/html-css-js-coding/" class="nav-link">
  html-css-js实践
</a></li></ul></li><li class="dropdown-item"><h4>
          实践操作
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-web/coding/" class="nav-link">
  实践操作
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="书籍" class="dropdown-title"><span class="title">书籍</span> <span class="arrow down"></span></button> <button type="button" aria-label="书籍" class="mobile-dropdown-title"><span class="title">书籍</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          JavaScript书籍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-web/JavaScript-advanced-programming/" class="nav-link router-link-active">
  JavaScript高级程序设计（第4版）
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          进阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-web/APIs/" class="nav-link">
  APIs
</a></li><li class="dropdown-subitem"><a href="/learn-web/Browser-Extensions/" class="nav-link">
  Browser-Extensions
</a></li><li class="dropdown-subitem"><a href="/learn-web/Java/" class="nav-link">
  Java
</a></li></ul></li><li class="dropdown-item"><h4>
          高阶
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-web/safety/" class="nav-link">
  安全系列
</a></li><li class="dropdown-subitem"><a href="/learn-web/Performance/" class="nav-link">
  性能系列
</a></li></ul></li><li class="dropdown-item"><h4>
          资深
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-web/DataStructure/" class="nav-link">
  数据结构系列
</a></li><li class="dropdown-subitem"><a href="/learn-web/ALG/" class="nav-link">
  算法系列
</a></li></ul></li><li class="dropdown-item"><h4>
          推荐
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://learn-docs.github.io/learn-webpack/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  learn-webpack
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://learn-docs.github.io/learn-React/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  learn-React
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://learn-docs.github.io/learn-TypeScript/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  learn-TypeScript
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://1024bibi.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  1024bibi.com bolg
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://learn-docs.github.io/vue-docs/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  vue-docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <a href="https://github.com/webVueBlog/learn-web" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/learn-web/JavaScript-advanced-programming/" class="sidebar-heading clickable router-link-active open"><span>JavaScript高级程序设计（第4版）</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/learn-web/JavaScript-advanced-programming/1章-什么是JavaScript.html" class="sidebar-link">1章-什么是JavaScript</a></li><li><a href="/learn-web/JavaScript-advanced-programming/2章-HTML中的JavaScript.html" class="sidebar-link">2章-HTML中的JavaScript</a></li><li><a href="/learn-web/JavaScript-advanced-programming/3章-语言基础.html" class="sidebar-link">3章-语言基础</a></li><li><a href="/learn-web/JavaScript-advanced-programming/4章-变量与作用域与内存.html" class="sidebar-link">4章-变量与作用域与内存</a></li><li><a href="/learn-web/JavaScript-advanced-programming/5章-基本引用类型.html" class="sidebar-link">5章-基本引用类型</a></li><li><a href="/learn-web/JavaScript-advanced-programming/6章-集合引用类型.html" class="sidebar-link">6章-集合引用类型</a></li><li><a href="/learn-web/JavaScript-advanced-programming/7章-迭代器与生成器.html" class="sidebar-link">7章-迭代器与生成器</a></li><li><a href="/learn-web/JavaScript-advanced-programming/8章-对象与类与面向对象编程.html" class="sidebar-link">8章-对象与类与面向对象编程</a></li><li><a href="/learn-web/JavaScript-advanced-programming/9章-代理与反射.html" class="sidebar-link">9章-代理与反射</a></li><li><a href="/learn-web/JavaScript-advanced-programming/10章-函数.html" class="sidebar-link">10章-函数</a></li><li><a href="/learn-web/JavaScript-advanced-programming/11章-期约与异步函数.html" class="sidebar-link">11章-期约与异步函数</a></li><li><a href="/learn-web/JavaScript-advanced-programming/12章-BOM.html" class="sidebar-link">12章-BOM</a></li><li><a href="/learn-web/JavaScript-advanced-programming/13章-客户端检测.html" class="sidebar-link">13章-客户端检测</a></li><li><a href="/learn-web/JavaScript-advanced-programming/14章-DOM.html" class="sidebar-link">14章-DOM</a></li><li><a href="/learn-web/JavaScript-advanced-programming/15章-DOM扩展.html" class="active sidebar-link">15章-DOM扩展</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-web/JavaScript-advanced-programming/15章-DOM扩展.html#dom-扩展" class="sidebar-link">DOM 扩展</a></li><li class="sidebar-sub-header"><a href="/learn-web/JavaScript-advanced-programming/15章-DOM扩展.html#matches" class="sidebar-link">matches()</a></li><li class="sidebar-sub-header"><a href="/learn-web/JavaScript-advanced-programming/15章-DOM扩展.html#html5" class="sidebar-link">HTML5</a></li><li class="sidebar-sub-header"><a href="/learn-web/JavaScript-advanced-programming/15章-DOM扩展.html#htmldocument-扩展" class="sidebar-link">HTMLDocument 扩展</a></li><li class="sidebar-sub-header"><a href="/learn-web/JavaScript-advanced-programming/15章-DOM扩展.html#自定义数据属性" class="sidebar-link">自定义数据属性</a></li><li class="sidebar-sub-header"><a href="/learn-web/JavaScript-advanced-programming/15章-DOM扩展.html#插入标记" class="sidebar-link">插入标记</a></li><li class="sidebar-sub-header"><a href="/learn-web/JavaScript-advanced-programming/15章-DOM扩展.html#scrollintoview" class="sidebar-link">scrollIntoView()</a></li><li class="sidebar-sub-header"><a href="/learn-web/JavaScript-advanced-programming/15章-DOM扩展.html#专有扩展" class="sidebar-link">专有扩展</a></li><li class="sidebar-sub-header"><a href="/learn-web/JavaScript-advanced-programming/15章-DOM扩展.html#插入标记-2" class="sidebar-link">插入标记</a></li><li class="sidebar-sub-header"><a href="/learn-web/JavaScript-advanced-programming/15章-DOM扩展.html#滚动" class="sidebar-link">滚动</a></li></ul></li><li><a href="/learn-web/JavaScript-advanced-programming/16章-DOM2和DOM3.html" class="sidebar-link">16章-DOM2和DOM3</a></li><li><a href="/learn-web/JavaScript-advanced-programming/17章-事件.html" class="sidebar-link">17章-事件</a></li><li><a href="/learn-web/JavaScript-advanced-programming/18章-动画与Canvas图形.html" class="sidebar-link">18章-动画与Canvas图形</a></li><li><a href="/learn-web/JavaScript-advanced-programming/19章-表单脚本.html" class="sidebar-link">19章-表单脚本</a></li><li><a href="/learn-web/JavaScript-advanced-programming/20章-JavaScriptAPI.html" class="sidebar-link">20章-JavaScriptAPI</a></li><li><a href="/learn-web/JavaScript-advanced-programming/21章-错误处理与调试.html" class="sidebar-link">21章-错误处理与调试</a></li><li><a href="/learn-web/JavaScript-advanced-programming/22章-处理XML.html" class="sidebar-link">22章-处理XML</a></li><li><a href="/learn-web/JavaScript-advanced-programming/23章-JSON.html" class="sidebar-link">23章-JSON</a></li><li><a href="/learn-web/JavaScript-advanced-programming/24章-网络请求与远程资源.html" class="sidebar-link">24章-网络请求与远程资源</a></li><li><a href="/learn-web/JavaScript-advanced-programming/25章-客户端存储.html" class="sidebar-link">25章-客户端存储</a></li><li><a href="/learn-web/JavaScript-advanced-programming/26章-模块.html" class="sidebar-link">26章-模块</a></li><li><a href="/learn-web/JavaScript-advanced-programming/27章-工作者线程.html" class="sidebar-link">27章-工作者线程</a></li><li><a href="/learn-web/JavaScript-advanced-programming/28章-最佳实践.html" class="sidebar-link">28章-最佳实践</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><blockquote><p>点击勘误<a href="https://github.com/webVueBlog/learn-web/issues" target="_blank" rel="noopener noreferrer">issues<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，哪吒感谢大家的阅读</p></blockquote> <p></p><div class="table-of-contents"><ul><li><a href="#dom-扩展">DOM 扩展</a><ul><li><a href="#selectors-api">Selectors API</a></li><li><a href="#queryselector">querySelector()</a></li><li><a href="#queryselectorall">querySelectorAll()</a></li></ul></li><li><a href="#matches">matches()</a><ul><li><a href="#元素遍历">元素遍历</a></li></ul></li><li><a href="#html5">HTML5</a><ul><li><a href="#_1-getelementsbyclassname">1. getElementsByClassName()</a></li><li><a href="#_2-classlist-属性">2. classList 属性</a></li><li><a href="#焦点管理">焦点管理</a></li></ul></li><li><a href="#htmldocument-扩展">HTMLDocument 扩展</a><ul><li><a href="#_1-readystate-属性">1. readyState 属性</a></li><li><a href="#_2-compatmode-属性">2. compatMode 属性</a></li><li><a href="#_3-head-属性">3. head 属性</a></li><li><a href="#字符集属性">字符集属性</a></li></ul></li><li><a href="#自定义数据属性">自定义数据属性</a></li><li><a href="#插入标记">插入标记</a><ul><li><a href="#_1-innerhtml-属性">1. innerHTML 属性</a></li><li><a href="#_2-旧-ie-中的-innerhtml">2. 旧 IE 中的 innerHTML</a></li><li><a href="#_3-outerhtml-属性">3. outerHTML 属性</a></li><li><a href="#_4-insertadjacenthtml-与-insertadjacenttext">4. insertAdjacentHTML()与 insertAdjacentText()</a></li><li><a href="#_5-内存与性能问题">5. 内存与性能问题</a></li><li><a href="#_6-跨站点脚本">6. 跨站点脚本</a></li></ul></li><li><a href="#scrollintoview">scrollIntoView()</a></li><li><a href="#专有扩展">专有扩展</a><ul><li><a href="#children-属性">children 属性</a></li><li><a href="#contains-方法">contains()方法</a></li></ul></li><li><a href="#插入标记">插入标记</a></li><li><a href="#滚动">滚动</a></li></ul></div><p></p> <h2 id="dom-扩展"><a href="#dom-扩展" class="header-anchor">#</a> DOM 扩展</h2> <ol><li>理解 Selectors API</li> <li>使用 HTML5 DOM 扩展</li></ol> <h3 id="selectors-api"><a href="#selectors-api" class="header-anchor">#</a> Selectors API</h3> <ol><li>Selectors API Level 1 的核心是两个方法：querySelector()和 querySelectorAll()</li> <li>在兼容浏览器中，Document 类型和 Element 类型的实例上都会暴露这两个方法。</li> <li>Selectors API Level 2 规范在 Element 类型上新增了更多方法，比如 matches()、find()和findAll()。</li></ol> <h3 id="queryselector"><a href="#queryselector" class="header-anchor">#</a> querySelector()</h3> <p>querySelector()方法接收 CSS 选择符参数，返回匹配该模式的第一个后代元素，如果没有匹配
项则返回 null。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 取得&lt;body&gt;元素</span>
<span class="token keyword">let</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 取得 ID 为&quot;myDiv&quot;的元素</span>
<span class="token keyword">let</span> myDiv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 取得类名为&quot;selected&quot;的第一个元素</span>
<span class="token keyword">let</span> selected <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.selected&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 取得类名为&quot;button&quot;的图片</span>
<span class="token keyword">let</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;img.button&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol><li>在 Document 上使用 querySelector()方法时，会从文档元素开始搜索；</li> <li>在 Element 上使用querySelector()方法时，则只会从当前元素的后代中查询。</li></ol> <h3 id="queryselectorall"><a href="#queryselectorall" class="header-anchor">#</a> querySelectorAll()</h3> <p>这个方法返回的是一个 NodeList 的静态实例。会返回所有匹配的节点</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 取得 ID 为&quot;myDiv&quot;的&lt;div&gt;元素中的所有&lt;em&gt;元素</span>
<span class="token keyword">let</span> ems <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;em&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 取得所有类名中包含&quot;selected&quot;的元素</span>
<span class="token keyword">let</span> selecteds <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;.selected&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 取得所有是&lt;p&gt;元素子元素的&lt;strong&gt;元素</span>
<span class="token keyword">let</span> strongs <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;p strong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>返回的 NodeList 对象可以通过 for-of 循环、item()方法或中括号语法取得个别元素</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> strongElements <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;p strong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 以下 3 个循环的效果一样</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> strong <span class="token keyword">of</span> strongElements<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
 strong<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;important&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> strongElements<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
 strongElements<span class="token punctuation">.</span><span class="token function">item</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;important&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> strongElements<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
 strongElements<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;important&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="matches"><a href="#matches" class="header-anchor">#</a> matches()</h2> <p>matches()方法接收一个 CSS 选择符参数，如果元素匹配则该选择符返回 true，否则返回 false。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;body.page1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
 <span class="token comment">// true </span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="元素遍历"><a href="#元素遍历" class="header-anchor">#</a> 元素遍历</h3> <p>Element Traversal API 为 DOM 元素添加了 5 个属性</p> <ol><li>childElementCount，返回子元素数量（不包含文本节点和注释）</li> <li>firstElementChild，指向第一个 Element 类型的子元素（Element 版 firstChild）；</li> <li>lastElementChild，指向最后一个 Element 类型的子元素（Element 版 lastChild）；</li> <li>previousElementSibling ，指向前一个 Element 类型的同胞元素（ Element 版 previousSibling）；</li> <li>nextElementSibling，指向后一个 Element 类型的同胞元素（Element 版 nextSibling）。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> parentElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'parent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> currentChildNode <span class="token operator">=</span> parentElement<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span> 
<span class="token comment">// 没有子元素，firstChild 返回 null，跳过循环</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>currentChildNode<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
 <span class="token keyword">if</span> <span class="token punctuation">(</span>currentChildNode<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
 <span class="token comment">// 如果有元素节点，则做相应处理</span>
 <span class="token function">processChild</span><span class="token punctuation">(</span>currentChildNode<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token punctuation">}</span> 
 <span class="token keyword">if</span> <span class="token punctuation">(</span>currentChildNode <span class="token operator">===</span> parentElement<span class="token punctuation">.</span>lastChild<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
 <span class="token keyword">break</span><span class="token punctuation">;</span> 
 <span class="token punctuation">}</span> 
 currentChildNode <span class="token operator">=</span> currentChildNode<span class="token punctuation">.</span>nextSibling<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>简化如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> parentElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'parent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">let</span> currentChildElement <span class="token operator">=</span> parentElement<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span>
<span class="token comment">// 没有子元素，firstElementChild 返回 null，跳过循环</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>currentChildElement<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
 <span class="token comment">// 这就是元素节点，做相应处理</span>
 <span class="token function">processChild</span><span class="token punctuation">(</span>currentChildElement<span class="token punctuation">)</span><span class="token punctuation">;</span> 
 <span class="token keyword">if</span> <span class="token punctuation">(</span>currentChildElement <span class="token operator">===</span> parentElement<span class="token punctuation">.</span>lastElementChild<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
 <span class="token keyword">break</span><span class="token punctuation">;</span> 
 <span class="token punctuation">}</span> 
 currentChildElement <span class="token operator">=</span> currentChildElement<span class="token punctuation">.</span>nextElementSibling<span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="html5"><a href="#html5" class="header-anchor">#</a> HTML5</h2> <h3 id="_1-getelementsbyclassname"><a href="#_1-getelementsbyclassname" class="header-anchor">#</a> 1. getElementsByClassName()</h3> <p>getElementsByClassName()方法接收一个参数，即包含一个或多个类名的字符串，返回类名中包含相应类的元素的 NodeList。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 取得所有类名中包含&quot;username&quot;和&quot;current&quot;元素</span>
<span class="token comment">// 这两个类名的顺序无关紧要</span>
<span class="token keyword">let</span> allCurrentUsernames <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;username current&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 取得 ID 为&quot;myDiv&quot;的元素子树中所有包含&quot;selected&quot;类的元素</span>
<span class="token keyword">let</span> selected <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;selected&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_2-classlist-属性"><a href="#_2-classlist-属性" class="header-anchor">#</a> 2. classList 属性</h3> <p>要操作类名，可以通过 className 属性实现添加、删除和替换。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;bd user disabled&quot;</span><span class="token operator">&gt;</span><span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token comment">// 要删除&quot;user&quot;类</span>
<span class="token keyword">let</span> targetClass <span class="token operator">=</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">;</span> 
<span class="token comment">// 把类名拆成数组</span>
<span class="token keyword">let</span> classNames <span class="token operator">=</span> div<span class="token punctuation">.</span>className<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token char-set class-name">\s</span><span class="token quantifier number">+</span></span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 找到要删除类名的索引</span>
<span class="token keyword">let</span> idx <span class="token operator">=</span> classNames<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>targetClass<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 如果有则删除</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>idx <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
 classNames<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
<span class="token comment">// 重新设置类名</span>
div<span class="token punctuation">.</span>className <span class="token operator">=</span> classNames<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>classList 是一个新的集合类型 DOMTokenList 的实例。</p> <p>DOMTokenList也有 length 属性表示自己包含多少项，也可以通过 item()或中括号取得个别的元素</p> <p>DOMTokenList方法:</p> <ol><li>add(value)，向类名列表中添加指定的字符串值 value。如果这个值已经存在，则什么也不做。</li> <li>contains(value)，返回布尔值，表示给定的 value 是否存在。</li> <li>remove(value)，从类名列表中删除指定的字符串值 value。</li> <li>toggle(value)，如果类名列表中已经存在指定的 value，则删除；如果不存在，则添加。</li></ol> <p>简化</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 删除&quot;disabled&quot;类</span>
div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;disabled&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 添加&quot;current&quot;类</span>
div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;current&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 切换&quot;user&quot;类</span>
div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 检测类名 </span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;bd&quot;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;disabled&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
 <span class="token comment">// 执行操作</span>
<span class="token punctuation">)</span> 
<span class="token comment">// 迭代类名</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token keyword">class</span> <span class="token class-name">of</span> div<span class="token punctuation">.</span>classList<span class="token punctuation">)</span><span class="token punctuation">{</span> 
 <span class="token function">doStuff</span><span class="token punctuation">(</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="焦点管理"><a href="#焦点管理" class="header-anchor">#</a> 焦点管理</h3> <p>document.activeElement，始终包含当前拥
有焦点的 DOM 元素。页面加载时，可以通过用户输入（按 Tab 键或代码中使用 focus()方法）让某个
元素自动获得焦点</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myButton&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
button<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>activeElement <span class="token operator">===</span> button<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol><li>默认情况下，document.activeElement 在页面刚加载完之后会设置为 document.body。</li> <li>在页面完全加载之前，document.activeElement 的值为 null。</li></ol> <p>document.hasFocus()方法，该方法返回布尔值，表示文档是否拥有焦点：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myButton&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
button<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">hasFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="htmldocument-扩展"><a href="#htmldocument-扩展" class="header-anchor">#</a> HTMLDocument 扩展</h2> <h3 id="_1-readystate-属性"><a href="#_1-readystate-属性" class="header-anchor">#</a> 1. readyState 属性</h3> <p>document.readyState 属性有两个可能的值：</p> <ul><li>loading，表示文档正在加载；</li> <li>complete，表示文档加载完成</li></ul> <p>通常要依赖 onload 事件处理程序设置一个标记，表示文档加载完了</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token string">&quot;complete&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
 <span class="token comment">// 执行操作</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-compatmode-属性"><a href="#_2-compatmode-属性" class="header-anchor">#</a> 2. compatMode 属性</h3> <ol><li>标准模式下 document.compatMode 的值是&quot;CSS1Compat&quot;</li> <li>在混杂模式下，document.compatMode 的值是&quot;BackCompat&quot;：</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>compatMode <span class="token operator">==</span> <span class="token string">&quot;CSS1Compat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Standards mode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> 
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Quirks mode&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_3-head-属性"><a href="#_3-head-属性" class="header-anchor">#</a> 3. head 属性</h3> <p>document.head 属性，指向文档的<code>&lt;head&gt;</code>元素</p> <h3 id="字符集属性"><a href="#字符集属性" class="header-anchor">#</a> 字符集属性</h3> <ul><li>characterSet 属性表示文档实际使用的字符集，也可以用来指定新字符集</li> <li>默认值是&quot;UTF-16&quot;</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>characterSet<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;UTF-16&quot; </span>
document<span class="token punctuation">.</span>characterSet <span class="token operator">=</span> <span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="自定义数据属性"><a href="#自定义数据属性" class="header-anchor">#</a> 自定义数据属性</h2> <p>使用前缀 data-以便告诉浏览器，这些属性既不包含与渲染有关的信息，也不包含元素的语义信息。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;myDiv&quot;</span> data<span class="token operator">-</span>appId<span class="token operator">=</span><span class="token string">&quot;12345&quot;</span> data<span class="token operator">-</span>myname<span class="token operator">=</span><span class="token string">&quot;Nicholas&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>定义了自定义数据属性后，可以通过元素的 dataset 属性来访问</li> <li>dataset 属性是一个DOMStringMap 的实例，包含一组键/值对映射。</li></ul> <p>（例如，属性 data-myname、data-myName 可以通过 myname 访问，但要注意 data-my-name、data-My-Name 要通过 myName 来访问）。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 本例中使用的方法仅用于示范</span>
<span class="token keyword">let</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;myDiv&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 取得自定义数据属性的值</span>
<span class="token keyword">let</span> appId <span class="token operator">=</span> div<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>appId<span class="token punctuation">;</span> 
<span class="token keyword">let</span> myName <span class="token operator">=</span> div<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>myname<span class="token punctuation">;</span> 
<span class="token comment">// 设置自定义数据属性的值</span>
div<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>appId <span class="token operator">=</span> <span class="token number">23456</span><span class="token punctuation">;</span> 
div<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>myname <span class="token operator">=</span> <span class="token string">&quot;Michael&quot;</span><span class="token punctuation">;</span> 
<span class="token comment">// 有&quot;myname&quot;吗？</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>div<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>myname<span class="token punctuation">)</span><span class="token punctuation">{</span> 
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>div<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>myname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="插入标记"><a href="#插入标记" class="header-anchor">#</a> 插入标记</h2> <h3 id="_1-innerhtml-属性"><a href="#_1-innerhtml-属性" class="header-anchor">#</a> 1. innerHTML 属性</h3> <p>在读取 innerHTML 属性时，会返回元素所有后代的 HTML 字符串，包括元素、注释和文本节点。
而在写入 innerHTML 时，则会根据提供的字符串值以新的 DOM 子树替代元素中原来包含的所有节点。</p> <p>比如下面的 HTML 代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>This is a <span class="token operator">&lt;</span>strong<span class="token operator">&gt;</span>paragraph<span class="token operator">&lt;</span><span class="token operator">/</span>strong<span class="token operator">&gt;</span> <span class="token keyword">with</span> a list following it<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>Item <span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>Item <span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>Item <span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span> 
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>对于这里的<code>&lt;div&gt;</code>元素而言，其 innerHTML 属性会返回以下字符串：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>This is a <span class="token operator">&lt;</span>strong<span class="token operator">&gt;</span>paragraph<span class="token operator">&lt;</span><span class="token operator">/</span>strong<span class="token operator">&gt;</span> <span class="token keyword">with</span> a list following it<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> 
<span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>Item <span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>Item <span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>Item <span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> 
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>实际返回的文本内容会因浏览器而不同。</p> <p>在写入模式下，赋给 innerHTML 属性的值会被解析为 DOM 子树，并替代元素之前的所有节点。</p> <h3 id="_2-旧-ie-中的-innerhtml"><a href="#_2-旧-ie-中的-innerhtml" class="header-anchor">#</a> 2. 旧 IE 中的 innerHTML</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 行不通</span>
div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&lt;script defer&gt;console.log('hi');&lt;\/script&gt;&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 以下都可行</span>
div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;_&lt;script defer&gt;console.log('hi');&lt;\/script&gt;&quot;</span><span class="token punctuation">;</span> 
div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&lt;div&gt;&amp;nbsp;&lt;/div&gt;&lt;script defer&gt;console.log('hi');&lt;\/script&gt;&quot;</span><span class="token punctuation">;</span> 
div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> &quot;<span class="token operator">&lt;</span>input type<span class="token operator">=</span>\&quot;hidden\&quot;<span class="token operator">&gt;</span><span class="token operator">&lt;</span>script defer<span class="token operator">&gt;</span>console<span class="token punctuation">.</span> 
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span>\<span class="token operator">/</span>script<span class="token operator">&gt;</span>&quot;<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&lt;style type=\&quot;text/css\&quot;&gt;body {background-color: red; }&lt;/style&gt;&quot;</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在 IE8 及之前的版本中，<code>&lt;style&gt;</code>也被认为是非受控元素，所以必须前置一个受控元素：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;_&lt;style type=\&quot;text/css\&quot;&gt;body {background-color: red; }&lt;/style&gt;&quot;</span><span class="token punctuation">;</span> 
div<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>firstChild<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_3-outerhtml-属性"><a href="#_3-outerhtml-属性" class="header-anchor">#</a> 3. outerHTML 属性</h3> <p>下面的 HTML 代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>This is a <span class="token operator">&lt;</span>strong<span class="token operator">&gt;</span>paragraph<span class="token operator">&lt;</span><span class="token operator">/</span>strong<span class="token operator">&gt;</span> <span class="token keyword">with</span> a list following it<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>Item <span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>Item <span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>Item <span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span> 
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在这个<code>&lt;div&gt;</code>元素上调用 outerHTML 会返回相同的字符串，包括<code>&lt;div&gt;</code>本身。</p> <p>如果使用 outerHTML 设置 HTML，比如：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>div<span class="token punctuation">.</span>outerHTML <span class="token operator">=</span> <span class="token string">&quot;&lt;p&gt;This is a paragraph.&lt;/p&gt;&quot;</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>则会得到与执行以下脚本相同的结果：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> p <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
p<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">&quot;This is a paragraph.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
div<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> div<span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>新的<code>&lt;p&gt;</code>元素会取代 <code>DOM</code> 树中原来的<code>&lt;div&gt;</code>元素。</p> <h3 id="_4-insertadjacenthtml-与-insertadjacenttext"><a href="#_4-insertadjacenthtml-与-insertadjacenttext" class="header-anchor">#</a> 4. insertAdjacentHTML()与 insertAdjacentText()</h3> <p>它们都接收两个参数：要插入标记的位置和要插入的 HTML 或文本</p> <p>第一个参数必须是下列值中的一个：</p> <ul><li>&quot;beforebegin&quot;，插入当前元素前面，作为前一个同胞节点；</li> <li>&quot;afterbegin&quot;，插入当前元素内部，作为新的子节点或放在第一个子节点前面；</li> <li>&quot;beforeend&quot;，插入当前元素内部，作为新的子节点或放在最后一个子节点后面；</li> <li>&quot;afterend&quot;，插入当前元素后面，作为下一个同胞节点。</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>假设当前元素是<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Hello world<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>，则<span class="token string">&quot;beforebegin&quot;</span>和<span class="token string">&quot;afterbegin&quot;</span>中的<span class="token string">&quot;begin&quot;</span>指开始标签<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>；而
<span class="token string">&quot;afterend&quot;</span>和<span class="token string">&quot;beforeend&quot;</span>中的<span class="token string">&quot;end&quot;</span>指结束标签<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 作为前一个同胞节点插入</span>
element<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">&quot;beforebegin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;p&gt;Hello world!&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">insertAdjacentText</span><span class="token punctuation">(</span><span class="token string">&quot;beforebegin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 作为第一个子节点插入</span>
element<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">&quot;afterbegin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;p&gt;Hello world!&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">insertAdjacentText</span><span class="token punctuation">(</span><span class="token string">&quot;afterbegin&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 作为最后一个子节点插入</span>
element<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">&quot;beforeend&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;p&gt;Hello world!&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
element<span class="token punctuation">.</span><span class="token function">insertAdjacentText</span><span class="token punctuation">(</span><span class="token string">&quot;beforeend&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 作为下一个同胞节点插入</span>
element<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">&quot;afterend&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;p&gt;Hello world!&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> element<span class="token punctuation">.</span>
<span class="token function">insertAdjacentText</span><span class="token punctuation">(</span><span class="token string">&quot;afterend&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h3 id="_5-内存与性能问题"><a href="#_5-内存与性能问题" class="header-anchor">#</a> 5. 内存与性能问题</h3> <p>在使用 innerHTML、
outerHTML 和 insertAdjacentHTML()之前，最好手动删除要被替换的元素上关联的事件处理程序和
JavaScript 对象。</p> <blockquote><p>一般来讲，插入大量的新 HTML 使用innerHTML 比使用多次 DOM 操作创建节点再插入来得更便捷。</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 只有对 innerHTML 的一次赋值。</span>
<span class="token keyword">let</span> itemsHtml <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> values<span class="token punctuation">)</span><span class="token punctuation">{</span> 
 itemsHtml <span class="token operator">+=</span> <span class="token string">'&lt;li&gt;${value}&lt;/li&gt;'</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> 
ul<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> itemsHtml<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>一行代码</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>ul<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> values<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=&gt;</span> <span class="token string">'&lt;li&gt;${value}&lt;/li&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="_6-跨站点脚本"><a href="#_6-跨站点脚本" class="header-anchor">#</a> 6. 跨站点脚本</h3> <p>innerHTML, 通过它可以毫不费力地创建元素并执行 onclick 之类的属性。</p> <h2 id="scrollintoview"><a href="#scrollintoview" class="header-anchor">#</a> scrollIntoView()</h2> <p>scrollIntoView()方法存在于所有 HTML 元素上，可以滚动浏览器窗口或容器元素以便包含元
素进入视口。</p> <p>这个方法的参数如下：</p> <ul><li>alignToTop 是一个布尔值。
	- true：窗口滚动后元素的顶部与视口顶部对齐。
	- false：窗口滚动后元素的底部与视口底部对齐。</li> <li>scrollIntoViewOptions 是一个选项对象。
	- behavior：定义过渡动画，可取的值为&quot;smooth&quot;和&quot;auto&quot;，默认为&quot;auto&quot;。 
<ul><li>block：定义垂直方向的对齐，可取的值为&quot;start&quot;、&quot;center&quot;、&quot;end&quot;和&quot;nearest&quot;，默认为 &quot;start&quot;。 </li> <li>inline：定义水平方向的对齐，可取的值为&quot;start&quot;、&quot;center&quot;、&quot;end&quot;和&quot;nearest&quot;，默认为 &quot;nearest&quot;。 </li></ul></li></ul> <p>不传参数等同于 alignToTop 为 true。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 确保元素可见</span>
document<span class="token punctuation">.</span>forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 同上</span>
document<span class="token punctuation">.</span>forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
document<span class="token punctuation">.</span>forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">block</span><span class="token operator">:</span> <span class="token string">'start'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">// 尝试将元素平滑地滚入视口</span>
document<span class="token punctuation">.</span>forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">scrollIntoView</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">behavior</span><span class="token operator">:</span> <span class="token string">'smooth'</span><span class="token punctuation">,</span> <span class="token literal-property property">block</span><span class="token operator">:</span> <span class="token string">'start'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="专有扩展"><a href="#专有扩展" class="header-anchor">#</a> 专有扩展</h2> <h3 id="children-属性"><a href="#children-属性" class="header-anchor">#</a> children 属性</h3> <p>children 属性是一个 HTMLCollection，只包含元素的 Element 类型的子节点。</p> <p>如果元素的子节点类型全部是元素类型，那 children 和 childNodes 中包含的节点应该是一样的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> childCount <span class="token operator">=</span> element<span class="token punctuation">.</span>children<span class="token punctuation">.</span>length<span class="token punctuation">;</span> 
<span class="token keyword">let</span> firstChild <span class="token operator">=</span> element<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="contains-方法"><a href="#contains-方法" class="header-anchor">#</a> contains()方法</h3> <p>contains()方法应该在要搜索的祖先元素上调
用，参数是待确定的目标节点。</p> <p>如果目标节点是被搜索节点的后代，contains()返回 true，否则返回 false。下面看一个例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>使用 DOM Level 3 的 compareDocumentPosition()方法也可以确定节点间的关系。</p> <p>这个方法会返回表示两个节点关系的位掩码。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token number">0x1</span> 断开（传入的节点不在文档中）
<span class="token number">0x2</span> 领先（传入的节点在 <span class="token constant">DOM</span> 树中位于参考节点之前）
<span class="token number">0x4</span> 随后（传入的节点在 <span class="token constant">DOM</span> 树中位于参考节点之后）
<span class="token number">0x8</span> 包含（传入的节点是参考节点的祖先）
<span class="token number">0x10</span> 被包含（传入的节点是参考节点的后代）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> result <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">compareDocumentPosition</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>result <span class="token operator">&amp;</span> <span class="token number">0x10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>以上代码执行后 result 的值为 20（或 0x14，其中 0x4 表示“随后”，加上 0x10“被包含”）。对
result 和 0x10 应用按位与会返回非零值，而两个叹号将这个值转换成对应的布尔值</p> <h2 id="插入标记-2"><a href="#插入标记-2" class="header-anchor">#</a> 插入标记</h2> <p>innerText 和 outerText。</p> <p>innerText 属性对应元素中包含的所有文本内容，无论文本在子树中哪个层级。</p> <ol><li>在用于读取值时，innerText 会按照深度优先的顺序将子树中所有文本节点的值拼接起来。</li> <li>在用于写入值时，innerText 会移除元素的所有后代并插入一个包含该值的文本节点。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>This is a <span class="token operator">&lt;</span>strong<span class="token operator">&gt;</span>paragraph<span class="token operator">&lt;</span><span class="token operator">/</span>strong<span class="token operator">&gt;</span> <span class="token keyword">with</span> a list following it<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>Item <span class="token number">1</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>Item <span class="token number">2</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>Item <span class="token number">3</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> 
 <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span> 
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span> 
对这个例子中的<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>而言，innerText 属性会返回以下字符串：
This is a paragraph <span class="token keyword">with</span> a list following it<span class="token punctuation">.</span> 
Item <span class="token number">1</span> 
Item <span class="token number">2</span> 
Item <span class="token number">3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><blockquote><p>设置 innerText 会移除元素之前所有的后代节点，完全改变 DOM 子树</p></blockquote> <div class="language-js line-numbers-mode"><pre class="language-js"><code>div<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;Hello &amp; welcome, &lt;b&gt;\&quot;reader\&quot;!&lt;/b&gt;&quot;</span><span class="token punctuation">;</span> 
执行之后的结果如下：
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>Hello <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> welcome<span class="token punctuation">,</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>b<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>reader<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">!</span><span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">/</span>b<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>去除所有 HTML 标签而只剩文本，如下所示：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>div<span class="token punctuation">.</span>innerText <span class="token operator">=</span> div<span class="token punctuation">.</span>innerText<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>outerText 属性</p> <ol><li>要读取文本值时，outerText 与 innerText 实际上会返回同样的内容。</li> <li>写入文本值时，outerText 不止会移除所有后代节点，而是会替换整个元素。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>div<span class="token punctuation">.</span>outerText <span class="token operator">=</span> <span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">;</span> 
这行代码的执行效果就相当于以下两行代码：
<span class="token keyword">let</span> text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">&quot;Hello world!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
div<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> div<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>本质上，这相当于用新的文本节点替代 outerText 所在的元素。此时，原来的元素会与文档脱离
关系，因此也无法访问。</p> <p>outerText 是一个非标准的属性，而且也没有被标准化的前景。</p> <h2 id="滚动"><a href="#滚动" class="header-anchor">#</a> 滚动</h2> <p>scrollIntoViewIfNeeded()作 为
HTMLElement 类型的扩展可以在所有元素上调用。scrollIntoViewIfNeeded(alingCenter)会在
元素不可见的情况下，将其滚动到窗口或包含窗口中，使其可见；如果已经在视口中可见，则这个方法
什么也不做。如果将可选的参数 alingCenter 设置为 true，则浏览器会尝试将其放在视口中央</p> <p>下面使用 scrollIntoViewIfNeeded()方法的一个例子：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 如果不可见，则将元素可见</span>
document<span class="token punctuation">.</span>images<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">scrollIntoViewIfNeeded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>考虑到 scrollIntoView()是唯一一个所有浏览器都支持的方法，所以只用它就可以了。</p></blockquote> <p>Selectors API 为基于 CSS 选择符获取 DOM 元素定义了几个方法：querySelector()、
querySelectorAll()和 matches()。</p> <p>Element Traversal 在 DOM 元素上定义了额外的属性，以方便对 DOM 元素进行遍历。这个需求
是因浏览器处理元素间空格的差异而产生的。</p> <p>HTML5 为标准 DOM 提供了大量扩展。其中包括对 innerHTML 属性等事实标准进行了标准化，
还有焦点管理、字符集、滚动等特性。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/webVueBlog/learn-web/edit/master/JavaScript-advanced-programming/15章-DOM扩展.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2/18/2022, 1:38:35 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/learn-web/JavaScript-advanced-programming/14章-DOM.html" class="prev">
        14章-DOM
      </a></span> <span class="next"><a href="/learn-web/JavaScript-advanced-programming/16章-DOM2和DOM3.html">
        16章-DOM2和DOM3
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----><!----><!----><div></div></div></div>
    <script src="/learn-web/assets/js/app.72a02f74.js" defer></script><script src="/learn-web/assets/js/2.a6c2d1f7.js" defer></script><script src="/learn-web/assets/js/57.b64a6d6c.js" defer></script>
  </body>
</html>
